# Пакет навигации turtlebro_voice_nav для робота TurtleBro

## Описание пакета

Пакет turtlebro_voice_nav предназначен для управления роботом TurtleBro с использованием голосовых команд, принимаемых на роботизированную голову Bbrain 1.0. Робот может перемещаться между комнатами, выполнять действия (например, осмотреться) и взаимодействовать с пользователем через голосовой интерфейс.

Основные функции:
- Перемещение робота в указанные комнаты по голосовым командам.
- Выполнение дополнительных действий в комнатах (например, "осмотрись").
- Возможность возврата в стартовую точку.
- Интеграция с системой навигации ROS (move_base) и патрулирования (turtlebro_patrol).

---

## Установка пакета

### 1. Установка зависимостей
Для работы пакета необходимы следующие зависимости:
- ROS Noetic (или другая версия, совместимая с вашей системой).
- Python 3.x.
- Библиотека toml для работы с конфигурационными файлами.

Установите зависимости Python:
```
pip3 install toml
```

### 2. Клонирование пакета
Склонируйте репозиторий в рабочую директорию ROS:

```
cd ~/catkin_ws/src
git clone https://github.com/your-repository/turtlebro_voice_nav.git
cd ..
catkin_make --pkg=turtlebro_voice_nav
```

---

## Конфигурация

### Файл конфигурации точек
Координаты точек задаются в файле конфигурации points.toml, который находится в папке data/. Пример содержимого файла:

```
[points]
стартоваяточка = { x = 0.0, y = 0.0, theta = 0.0 }
комнатуодин = { x = 1.0, y = 0.0, theta = 30.0 }
комнатудва = { x = 1.0, y = 1.0, theta = 10.0 }
комнатутри = { x = 0.0, y = 0.5, theta = 0.0 }
кабинет = { x = 0.2, y = 0.0, theta = 0.0 }
```
---

## Запуск пакета

### 1. Запуск пакета голосового управления
Запустите пакет turtlebro_voice_nav:

```
roslaunch turtlebro_voice_nav voice_nav.launch
```

### 2. Отправка голосовых команд
Используйте голосовой интерфейс для отправки команд. Например:
- Произнесите: "езжай в комнатуодин".
- Робот переместится в указанную комнату.

---

## Тестирование

### 1. Эмуляция перемещений
Для тестирования без реального перемещения робота используйте флаг fake_move_base:

```
roslaunch turtlebro_voice_nav voice_nav.launch fake_move_base:=true
```

### 2. Логи
Проверяйте логи для отслеживания выполнения команд:

```
rostopic echo /rosout
```